{% extends 'fronted/fronted.html.twig' %}

{% block title %}Detalles Propiedad{% endblock %}

{% block body %}
    <!-- Page Content -->
    <div class="container mt-5">
        <div class="row">
            <!-- Post Content Column -->
            <div class="col-md-8">
                <!-- Title -->
                <h1 class="mt-4">
                    {% if property.charge %}
                        {{ property.charge.price|number_format(0, ',', '.') }} €
                    {% endif %}
                </h1>

                <!-- Author -->
                <p class="lead">
                    {{ property.street.zone.name }} - {{ property.street.name }}
                </p>

                <hr>

                <!-- Preview Image -->
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        {% set isFirst = true %}
                        {% for image in property.rateHousing.image if image.rateHousing.id == property.rateHousing.id %}
                            {% if isFirst == true %}
                                <div class="carousel-item active">
                            {% else %}
                                <div class="carousel-item">
                            {% endif %}
                                    <img class="bd-placeholder-img" src="{{ uploaded_asset(image.imagePath) }}" alt="{{ uploaded_asset(image.nameImage) }}">
                                </div>
                            {% set isFirst = false %}
                        {% endfor %}
                        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>

                <hr>
                <!-- Post Content -->
                <p class="lead">{{ property.rateHousing.comment }}</p>
                <hr>
            </div>

            <!-- Sidebar Widgets Column -->
            <div class="col-md-4">

                <!-- DISTRIBUCIÓN -->
                <div class="card border-info my-4">
                    <h5 class="card-header bg-info text-white border-info">Distribución</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Habitaciones
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.bedrooms }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Baños
                            <span class="badge badge-info badge-pill">2</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Metros
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.realMeters }}m<sup>2</sup></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            C. Energético
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.energyCertificate ? property.rateHousing.energyCertificate.name }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Calefacción
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.heating ? property.rateHousing.heating.name }}</span>
                        </li>
                    </ul>
                </div>

                <!-- EXTRAS -->
                <div class="card border-info my-4">
                    <h5 class="card-header bg-info text-white border-info">Extras</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Cota Cero
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.zeroDimension ? 'Si' : 'No' }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Balcón
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.balcony ? 'Si' : 'No' }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Garaje Directo
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.directGarage ? 'Si' : 'No' }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Trastero
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.storageRoom ? 'Si' : 'No' }}</span>
                        </li>
                    </ul>
                </div>

                <!-- EDIFICIO -->
                <div class="card border-info my-4">
                    <h5 class="card-header bg-info text-white border-info">Edificio</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Ascensor
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.elevator ? 'Si' : 'No' }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Antigüedad
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.antiquity ? 'Si' : 'No' }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Estructura Edificio
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.buildingStructure ? property.rateHousing.buildingStructure.name }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Gastos Comunidad
                            <span class="badge badge-info badge-pill">{{ property.rateHousing.communityExpenses|number_format(0, ',', '.') }}</span>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
        <!-- /.row -->

    </div>
    <!-- /.container -->
{% endblock %}